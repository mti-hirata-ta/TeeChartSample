<html>
<head>
<title>TeeChart JavaScript JSON to Series Example</title>

<script src="../../src/teechart.js" type="text/javascript"></script>
<script src="../../src/teechart-table.js" type="text/javascript"></script>

<script type="text/javascript">
var Chart1;
function draw() {
  Chart1=new Tee.Chart("canvas");
  var b=Chart1.addSeries(new Tee.Line());

  var o=JSON.parse(document.getElementById("json").value);
  var d=o.feeds;
  for (var t=0; t<d.length; t++)
    b.data.values[t]=parseFloat(d[t].field1);

  b.title=o.channel.field1;

  Chart1.title.text=o.channel.name;
  Chart1.title.transparent=false;
  Chart1.title.padding=20;

  Chart1.axes.left.title.text=b.title;

  Chart1.aspect.clip=false;
  Chart1.draw();

  Chart1.ctx.shadowBlur=0;
  Chart1.ctx.shadowOffsetX=0;
  Chart1.ctx.shadowOffsetY=0;

  Chart1.ctx.beginPath();
  Chart1.ctx.rect(80,80,200,200);
  Chart1.ctx.closePath();

  Chart1.ctx.globalCompositeOperation="xor";

  Chart1.ctx.beginPath();
  Chart1.ctx.rect(50,50,200,200);
  Chart1.ctx.fillStyle="red";
  Chart1.ctx.fill();
  Chart1.ctx.globalCompositeOperation="source-over";
}
</script>
</head>
<body onload="draw()">

<center>
<canvas id="canvas" width="600" height="400">
This browser does not seem to support HTML5 Canvas.
</canvas>
</center>

<div>
<textarea id="json" rows="20" cols="80" wrap="off">
{"channel":
{"created_at":"2012-03-08T20:59:27Z","field1":"Temp\u00e9rature","id":1963,"last_entry_id":1940,
"name":"Temp\u00e9rature ext\u00e9rieur","updated_at":"2012-04-17T16:50:35Z"},
"feeds":[{"created_at":"2012-04-16T17:41:57Z","entry_id":1896,"field1":"12"},
{"created_at":"2012-04-16T18:11:59Z","entry_id":1897,"field1":"11"},
{"created_at":"2012-04-16T18:42:01Z","entry_id":1898,"field1":"10"},
{"created_at":"2012-04-16T19:12:03Z","entry_id":1899,"field1":"10"},
{"created_at":"2012-04-16T19:42:05Z","entry_id":1900,"field1":"9"},
{"created_at":"2012-04-16T21:13:04Z","entry_id":1901,"field1":"6"},
{"created_at":"2012-04-16T21:43:06Z","entry_id":1902,"field1":"5"},
{"created_at":"2012-04-16T22:13:08Z","entry_id":1903,"field1":"5"},
{"created_at":"2012-04-16T22:43:10Z","entry_id":1904,"field1":"4"},
{"created_at":"2012-04-16T23:13:12Z","entry_id":1905,"field1":"4"},
{"created_at":"2012-04-16T23:43:14Z","entry_id":1906,"field1":"4"},
{"created_at":"2012-04-17T00:13:16Z","entry_id":1907,"field1":"3"},
{"created_at":"2012-04-17T00:43:18Z","entry_id":1908,"field1":"3"},
{"created_at":"2012-04-17T01:13:20Z","entry_id":1909,"field1":"2"},
{"created_at":"2012-04-17T01:43:22Z","entry_id":1910,"field1":"2"},
{"created_at":"2012-04-17T02:13:24Z","entry_id":1911,"field1":"2"},
{"created_at":"2012-04-17T02:43:26Z","entry_id":1912,"field1":"2"},
{"created_at":"2012-04-17T03:13:28Z","entry_id":1913,"field1":"2"},
{"created_at":"2012-04-17T03:43:30Z","entry_id":1914,"field1":"1"},
{"created_at":"2012-04-17T04:14:25Z","entry_id":1915,"field1":"1"},
{"created_at":"2012-04-17T04:44:27Z","entry_id":1916,"field1":"1"},
{"created_at":"2012-04-17T05:14:29Z","entry_id":1917,"field1":"1"},
{"created_at":"2012-04-17T05:44:31Z","entry_id":1918,"field1":"1"},
{"created_at":"2012-04-17T06:14:33Z","entry_id":1919,"field1":"3"},
{"created_at":"2012-04-17T06:44:35Z","entry_id":1920,"field1":"4"},
{"created_at":"2012-04-17T07:14:37Z","entry_id":1921,"field1":"6"},
{"created_at":"2012-04-17T07:44:39Z","entry_id":1922,"field1":"7"},
{"created_at":"2012-04-17T08:14:41Z","entry_id":1923,"field1":"9"},
{"created_at":"2012-04-17T08:44:43Z","entry_id":1924,"field1":"11"},
{"created_at":"2012-04-17T09:14:45Z","entry_id":1925,"field1":"11"},
{"created_at":"2012-04-17T09:44:47Z","entry_id":1926,"field1":"12"},
{"created_at":"2012-04-17T10:15:42Z","entry_id":1927,"field1":"12"},
{"created_at":"2012-04-17T10:45:44Z","entry_id":1928,"field1":"12"},
{"created_at":"2012-04-17T11:17:32Z","entry_id":1929,"field1":"12"},
{"created_at":"2012-04-17T11:47:35Z","entry_id":1930,"field1":"13"},
{"created_at":"2012-04-17T12:17:36Z","entry_id":1931,"field1":"14"},
{"created_at":"2012-04-17T12:47:38Z","entry_id":1932,"field1":"14"},
{"created_at":"2012-04-17T13:17:40Z","entry_id":1933,"field1":"14"},
{"created_at":"2012-04-17T13:47:42Z","entry_id":1934,"field1":"14"},
{"created_at":"2012-04-17T14:18:37Z","entry_id":1935,"field1":"14"},
{"created_at":"2012-04-17T14:48:39Z","entry_id":1936,"field1":"13"},
{"created_at":"2012-04-17T15:19:34Z","entry_id":1937,"field1":"12"},
{"created_at":"2012-04-17T15:49:36Z","entry_id":1938,"field1":"12"},
{"created_at":"2012-04-17T16:19:38Z","entry_id":1939,"field1":"11"},
{"created_at":"2012-04-17T16:50:35Z","entry_id":1940,"field1":"11"}]}
</textarea>
<br/>
<button type="BUTTON" onclick="Chart1.series.items[0].refresh();">Refresh</Button>
</DIV>
<br/>
</body>
</html>
